{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\n/**\r\n * API响应处理工具函数\r\n */\n\n/**\r\n * 处理Django REST Framework的分页响应格式\r\n * @param {*} response - API响应数据\r\n * @returns {Array} 处理后的数组数据\r\n */\nexport function handlePaginatedResponse(response) {\n  if (Array.isArray(response)) {\n    return response;\n  }\n\n  // 处理Django REST Framework的分页格式\n  if (response && response.results) {\n    return response.results;\n  }\n\n  // 处理其他可能的格式\n  if (response && Array.isArray(response.data)) {\n    return response.data;\n  }\n\n  // 如果都不是，返回空数组\n  return [];\n}\n\n/**\r\n * 安全地过滤数组数据\r\n * @param {Array} data - 要过滤的数据\r\n * @param {Function} filterFn - 过滤函数，默认为过滤掉null和undefined\r\n * @returns {Array} 过滤后的数组\r\n */\nexport function safeFilter(data, filterFn = item => item != null) {\n  if (!Array.isArray(data)) {\n    return [];\n  }\n  return data.filter(filterFn);\n}\n\n/**\r\n * 处理分类API响应\r\n * @param {*} response - 分类API响应\r\n * @returns {Array} 处理后的分类数组\r\n */\nexport function handleCategoriesResponse(response) {\n  const categories = handlePaginatedResponse(response);\n  return safeFilter(categories, category => category != null && category.id);\n}\n\n/**\r\n * 处理文章API响应\r\n * @param {*} response - 文章API响应\r\n * @returns {Array} 处理后的文章数组\r\n */\nexport function handleArticlesResponse(response) {\n  const articles = handlePaginatedResponse(response);\n  return safeFilter(articles, article => article != null && article.id);\n}","map":{"version":3,"names":["handlePaginatedResponse","response","Array","isArray","results","data","safeFilter","filterFn","item","filter","handleCategoriesResponse","categories","category","id","handleArticlesResponse","articles","article"],"sources":["/Users/a123/PythonProject/System/django_blog/frontend/src/utils/apiHelper.js"],"sourcesContent":["/**\r\n * API响应处理工具函数\r\n */\r\n\r\n/**\r\n * 处理Django REST Framework的分页响应格式\r\n * @param {*} response - API响应数据\r\n * @returns {Array} 处理后的数组数据\r\n */\r\nexport function handlePaginatedResponse(response) {\r\n  if (Array.isArray(response)) {\r\n    return response\r\n  }\r\n  \r\n  // 处理Django REST Framework的分页格式\r\n  if (response && response.results) {\r\n    return response.results\r\n  }\r\n  \r\n  // 处理其他可能的格式\r\n  if (response && Array.isArray(response.data)) {\r\n    return response.data\r\n  }\r\n  \r\n  // 如果都不是，返回空数组\r\n  return []\r\n}\r\n\r\n/**\r\n * 安全地过滤数组数据\r\n * @param {Array} data - 要过滤的数据\r\n * @param {Function} filterFn - 过滤函数，默认为过滤掉null和undefined\r\n * @returns {Array} 过滤后的数组\r\n */\r\nexport function safeFilter(data, filterFn = (item) => item != null) {\r\n  if (!Array.isArray(data)) {\r\n    return []\r\n  }\r\n  return data.filter(filterFn)\r\n}\r\n\r\n/**\r\n * 处理分类API响应\r\n * @param {*} response - 分类API响应\r\n * @returns {Array} 处理后的分类数组\r\n */\r\nexport function handleCategoriesResponse(response) {\r\n  const categories = handlePaginatedResponse(response)\r\n  return safeFilter(categories, (category) => category != null && category.id)\r\n}\r\n\r\n/**\r\n * 处理文章API响应\r\n * @param {*} response - 文章API响应\r\n * @returns {Array} 处理后的文章数组\r\n */\r\nexport function handleArticlesResponse(response) {\r\n  const articles = handlePaginatedResponse(response)\r\n  return safeFilter(articles, (article) => article != null && article.id)\r\n}\r\n"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,uBAAuBA,CAACC,QAAQ,EAAE;EAChD,IAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EAAE;IAC3B,OAAOA,QAAQ;EACjB;;EAEA;EACA,IAAIA,QAAQ,IAAIA,QAAQ,CAACG,OAAO,EAAE;IAChC,OAAOH,QAAQ,CAACG,OAAO;EACzB;;EAEA;EACA,IAAIH,QAAQ,IAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACI,IAAI,CAAC,EAAE;IAC5C,OAAOJ,QAAQ,CAACI,IAAI;EACtB;;EAEA;EACA,OAAO,EAAE;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAACD,IAAI,EAAEE,QAAQ,GAAIC,IAAI,IAAKA,IAAI,IAAI,IAAI,EAAE;EAClE,IAAI,CAACN,KAAK,CAACC,OAAO,CAACE,IAAI,CAAC,EAAE;IACxB,OAAO,EAAE;EACX;EACA,OAAOA,IAAI,CAACI,MAAM,CAACF,QAAQ,CAAC;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,wBAAwBA,CAACT,QAAQ,EAAE;EACjD,MAAMU,UAAU,GAAGX,uBAAuB,CAACC,QAAQ,CAAC;EACpD,OAAOK,UAAU,CAACK,UAAU,EAAGC,QAAQ,IAAKA,QAAQ,IAAI,IAAI,IAAIA,QAAQ,CAACC,EAAE,CAAC;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,sBAAsBA,CAACb,QAAQ,EAAE;EAC/C,MAAMc,QAAQ,GAAGf,uBAAuB,CAACC,QAAQ,CAAC;EAClD,OAAOK,UAAU,CAACS,QAAQ,EAAGC,OAAO,IAAKA,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACH,EAAE,CAAC;AACzE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}