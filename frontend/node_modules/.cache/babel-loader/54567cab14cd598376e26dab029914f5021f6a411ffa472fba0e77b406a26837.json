{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ElMessage } from 'element-plus';\nimport { Search, Setting, Delete } from '@element-plus/icons-vue';\nimport { articleAPI, categoryAPI } from '@/api/blog';\nexport default {\n  name: 'SearchPage',\n  components: {\n    Search,\n    Setting,\n    Delete\n  },\n  data() {\n    return {\n      searchQuery: '',\n      searching: false,\n      hasSearched: false,\n      searchTime: 0,\n      showAdvanced: false,\n      // 搜索筛选条件\n      filters: {\n        category_id: null,\n        author: '',\n        dateRange: null,\n        sort: 'relevance'\n      },\n      // 搜索结果\n      searchResults: {\n        items: [],\n        total: 0\n      },\n      // 分页\n      pagination: {\n        page: 1,\n        size: 10\n      },\n      // 分类列表\n      categories: [],\n      // 搜索历史（本地存储）\n      searchHistory: [],\n      // 热门搜索词\n      popularSearches: ['Vue.js', 'JavaScript', 'Python', '前端开发', '后端开发', '数据库', '算法', '机器学习']\n    };\n  },\n  computed: {\n    safeCategories() {\n      return (this.categories || []).filter(c => c != null);\n    }\n  },\n  async created() {\n    await this.loadCategories();\n    this.loadSearchHistory();\n\n    // 从URL恢复搜索查询\n    const query = this.$route.query.q;\n    if (query) {\n      this.searchQuery = query;\n      await this.performSearch(false);\n    }\n  },\n  methods: {\n    // 加载分类列表\n    async loadCategories() {\n      try {\n        const response = await categoryAPI.getCategories();\n        // 处理Django REST Framework的分页响应格式\n        this.categories = Array.isArray(response) ? response : response.results || [];\n      } catch (error) {\n        console.error('加载分类失败:', error);\n        this.categories = [];\n      }\n    },\n    // 执行搜索\n    async performSearch(addToHistory = true) {\n      if (!this.searchQuery.trim()) {\n        ElMessage.warning('请输入搜索关键词');\n        return;\n      }\n      try {\n        this.searching = true;\n        const startTime = Date.now();\n        const params = {\n          q: this.searchQuery.trim(),\n          page: this.pagination.page,\n          size: this.pagination.size,\n          sort: this.filters.sort\n        };\n\n        // 添加筛选条件\n        if (this.filters.category_id) {\n          params.category_id = this.filters.category_id;\n        }\n        if (this.filters.author) {\n          params.author = this.filters.author;\n        }\n        if (this.filters.dateRange?.length === 2) {\n          params.start_date = this.filters.dateRange[0].toISOString().split('T')[0];\n          params.end_date = this.filters.dateRange[1].toISOString().split('T')[0];\n        }\n        const response = await articleAPI.searchArticles(params);\n        this.searchResults = {\n          items: response.items || [],\n          total: response.total || 0\n        };\n        this.searchTime = Date.now() - startTime;\n        this.hasSearched = true;\n\n        // 添加到搜索历史\n        if (addToHistory) {\n          this.addToHistory(this.searchQuery);\n        }\n\n        // 更新URL\n        this.updateURL();\n      } catch (error) {\n        console.error('搜索失败:', error);\n        ElMessage.error('搜索失败，请稍后重试');\n\n        // 显示示例搜索结果\n        this.searchResults = {\n          items: [{\n            id: 1,\n            title: '包含搜索关键词的示例文章',\n            summary: `这是一个包含\"${this.searchQuery}\"关键词的示例文章摘要...`,\n            content: '文章内容',\n            author: {\n              username: 'admin'\n            },\n            created_at: new Date().toISOString(),\n            views_count: 100,\n            category: {\n              name: '示例分类'\n            },\n            tags: ['示例', '搜索']\n          }],\n          total: 1\n        };\n        this.searchTime = 50;\n        this.hasSearched = true;\n      } finally {\n        this.searching = false;\n      }\n    },\n    // 清除搜索\n    clearSearch() {\n      this.searchQuery = '';\n      this.hasSearched = false;\n      this.searchResults = {\n        items: [],\n        total: 0\n      };\n      this.pagination.page = 1;\n      this.resetFilters();\n\n      // 清除URL参数\n      this.$router.replace({\n        query: {}\n      });\n    },\n    // 重置筛选条件\n    resetFilters() {\n      this.filters = {\n        category_id: null,\n        author: '',\n        dateRange: null,\n        sort: 'relevance'\n      };\n    },\n    // 页码变化\n    async handlePageChange(page) {\n      this.pagination.page = page;\n      await this.performSearch(false);\n\n      // 滚动到搜索结果顶部\n      const resultsEl = this.$el.querySelector('.search-results');\n      if (resultsEl) {\n        resultsEl.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n    },\n    // 页面大小变化\n    async handleSizeChange(size) {\n      this.pagination.size = size;\n      this.pagination.page = 1;\n      await this.performSearch(false);\n    },\n    // 跳转到文章\n    goToArticle(id) {\n      this.$router.push(`/articles/${id}`);\n    },\n    // 高亮关键词\n    highlightKeywords(text) {\n      if (!text || !this.searchQuery) return text;\n      const keywords = this.searchQuery.split(/\\s+/).filter(k => k);\n      let highlightedText = text;\n      keywords.forEach(keyword => {\n        const regex = new RegExp(`(${keyword})`, 'gi');\n        highlightedText = highlightedText.replace(regex, '<mark>$1</mark>');\n      });\n      return highlightedText;\n    },\n    // 搜索历史管理\n    loadSearchHistory() {\n      try {\n        const history = localStorage.getItem('search_history');\n        this.searchHistory = history ? JSON.parse(history) : [];\n      } catch (error) {\n        this.searchHistory = [];\n      }\n    },\n    addToHistory(query) {\n      const trimmedQuery = query.trim();\n      if (!trimmedQuery) return;\n\n      // 移除重复项并添加到开头\n      this.searchHistory = [trimmedQuery, ...this.searchHistory.filter(item => item !== trimmedQuery)].slice(0, 10); // 最多保存10条历史\n\n      // 保存到本地存储\n      try {\n        localStorage.setItem('search_history', JSON.stringify(this.searchHistory));\n      } catch (error) {\n        console.error('保存搜索历史失败:', error);\n      }\n    },\n    removeHistoryItem(index) {\n      this.searchHistory.splice(index, 1);\n      try {\n        localStorage.setItem('search_history', JSON.stringify(this.searchHistory));\n      } catch (error) {\n        console.error('更新搜索历史失败:', error);\n      }\n    },\n    clearHistory() {\n      this.searchHistory = [];\n      try {\n        localStorage.removeItem('search_history');\n      } catch (error) {\n        console.error('清除搜索历史失败:', error);\n      }\n      ElMessage.success('搜索历史已清空');\n    },\n    // 使用历史搜索\n    async useHistorySearch(query) {\n      this.searchQuery = query;\n      await this.performSearch();\n    },\n    // 使用热门搜索\n    async usePopularSearch(tag) {\n      this.searchQuery = tag;\n      await this.performSearch();\n    },\n    // 格式化日期\n    formatDate(date) {\n      if (!date) return '';\n      return new Date(date).toLocaleDateString('zh-CN');\n    },\n    // 更新URL\n    updateURL() {\n      const query = {};\n      if (this.searchQuery) query.q = this.searchQuery;\n      if (this.pagination.page > 1) query.page = this.pagination.page;\n      this.$router.replace({\n        query\n      });\n    }\n  }\n};","map":{"version":3,"names":["ElMessage","Search","Setting","Delete","articleAPI","categoryAPI","name","components","data","searchQuery","searching","hasSearched","searchTime","showAdvanced","filters","category_id","author","dateRange","sort","searchResults","items","total","pagination","page","size","categories","searchHistory","popularSearches","computed","safeCategories","filter","c","created","loadCategories","loadSearchHistory","query","$route","q","performSearch","methods","response","getCategories","Array","isArray","results","error","console","addToHistory","trim","warning","startTime","Date","now","params","length","start_date","toISOString","split","end_date","searchArticles","updateURL","id","title","summary","content","username","created_at","views_count","category","tags","clearSearch","resetFilters","$router","replace","handlePageChange","resultsEl","$el","querySelector","scrollIntoView","behavior","handleSizeChange","goToArticle","push","highlightKeywords","text","keywords","k","highlightedText","forEach","keyword","regex","RegExp","history","localStorage","getItem","JSON","parse","trimmedQuery","item","slice","setItem","stringify","removeHistoryItem","index","splice","clearHistory","removeItem","success","useHistorySearch","usePopularSearch","tag","formatDate","date","toLocaleDateString"],"sources":["/Users/a123/PythonProject/System/django_blog/frontend/src/components/SearchPage.vue"],"sourcesContent":["<template>\n  <div class=\"search-page\">\n    <!-- 搜索头部 -->\n    <div class=\"search-header\">\n      <h1>\n        <el-icon><Search /></el-icon>\n        文章搜索\n      </h1>\n      <p class=\"search-subtitle\">发现更多有趣的内容</p>\n    </div>\n\n    <!-- 搜索框区域 -->\n    <div class=\"search-container\">\n      <div class=\"search-box\">\n        <el-input\n          v-model=\"searchQuery\"\n          size=\"large\"\n          placeholder=\"搜索文章标题、内容、标签...\"\n          class=\"search-input\"\n          @keyup.enter=\"performSearch\"\n          @clear=\"clearSearch\"\n          clearable\n        >\n          <template #suffix>\n            <el-button @click=\"performSearch\" type=\"text\" :loading=\"searching\">\n              <el-icon><Search /></el-icon>\n            </el-button>\n          </template>\n        </el-input>\n        \n        <el-button\n          type=\"primary\"\n          size=\"large\"\n          @click=\"performSearch\"\n          :loading=\"searching\"\n          class=\"search-button\"\n        >\n          搜索\n        </el-button>\n      </div>\n\n      <!-- 高级搜索选项 -->\n      <div class=\"advanced-search\" v-show=\"showAdvanced\">\n        <el-form :model=\"filters\" inline class=\"search-filters\">\n          <el-form-item label=\"分类\">\n            <el-select\n              v-model=\"filters.category_id\"\n              placeholder=\"选择分类\"\n              clearable\n              style=\"width: 150px\"\n            >\n              <el-option\n                v-for=\"category in safeCategories\"\n                :key=\"category?.id\"\n                :label=\"category?.name\"\n                :value=\"category?.id\"\n              />\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"作者\">\n            <el-input\n              v-model=\"filters.author\"\n              placeholder=\"输入作者名\"\n              style=\"width: 150px\"\n              clearable\n            />\n          </el-form-item>\n\n          <el-form-item label=\"时间范围\">\n            <el-date-picker\n              v-model=\"filters.dateRange\"\n              type=\"daterange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              style=\"width: 220px\"\n            />\n          </el-form-item>\n\n          <el-form-item label=\"排序\">\n            <el-select v-model=\"filters.sort\" style=\"width: 120px\">\n              <el-option label=\"相关度\" value=\"relevance\" />\n              <el-option label=\"最新发布\" value=\"created_at\" />\n              <el-option label=\"最多阅读\" value=\"views_count\" />\n            </el-select>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <!-- 切换高级搜索 -->\n      <div class=\"search-toggle\">\n        <el-button @click=\"showAdvanced = !showAdvanced\" text type=\"primary\">\n          <el-icon><Setting /></el-icon>\n          {{ showAdvanced ? '收起' : '高级搜索' }}\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 搜索历史 -->\n    <div v-if=\"!hasSearched && searchHistory.length\" class=\"search-history\">\n      <div class=\"history-header\">\n        <h3>搜索历史</h3>\n        <el-button @click=\"clearHistory\" text type=\"danger\" size=\"small\">\n          <el-icon><Delete /></el-icon>\n          清空\n        </el-button>\n      </div>\n      <div class=\"history-tags\">\n        <el-tag\n          v-for=\"(item, index) in searchHistory\"\n          :key=\"index\"\n          @click=\"useHistorySearch(item)\"\n          closable\n          @close=\"removeHistoryItem(index)\"\n          class=\"history-tag\"\n        >\n          {{ item }}\n        </el-tag>\n      </div>\n    </div>\n\n    <!-- 热门搜索 -->\n    <div v-if=\"!hasSearched\" class=\"popular-searches\">\n      <h3>热门搜索</h3>\n      <div class=\"popular-tags\">\n        <el-tag\n          v-for=\"tag in popularSearches\"\n          :key=\"tag\"\n          @click=\"usePopularSearch(tag)\"\n          class=\"popular-tag\"\n        >\n          {{ tag }}\n        </el-tag>\n      </div>\n    </div>\n\n    <!-- 搜索结果 -->\n    <div v-if=\"hasSearched\" class=\"search-results\">\n      <div class=\"results-header\">\n        <h3>\n          搜索结果\n          <span v-if=\"searchResults.total > 0\" class=\"result-count\">\n            （共找到 {{ searchResults.total }} 条结果）\n          </span>\n        </h3>\n        \n        <div class=\"result-stats\">\n          <span class=\"search-time\">搜索耗时：{{ searchTime }}ms</span>\n        </div>\n      </div>\n\n      <!-- 加载状态 -->\n      <div v-if=\"searching\" class=\"loading-container\">\n        <el-skeleton :rows=\"3\" animated v-for=\"i in 3\" :key=\"i\" />\n      </div>\n\n      <!-- 搜索结果列表 -->\n      <div v-else-if=\"searchResults.items?.length\" class=\"results-list\">\n        <div\n          v-for=\"article in searchResults.items\"\n          :key=\"article.id\"\n          class=\"result-item\"\n          @click=\"goToArticle(article.id)\"\n        >\n          <div class=\"result-content\">\n            <h4 class=\"result-title\" v-html=\"highlightKeywords(article.title)\"></h4>\n            <p class=\"result-summary\" v-html=\"highlightKeywords(article.summary || article.content)\"></p>\n            \n            <div class=\"result-meta\">\n              <span class=\"result-category\" v-if=\"article.category\">\n                {{ article.category.name }}\n              </span>\n              <span class=\"result-author\">{{ article.author?.username }}</span>\n              <span class=\"result-date\">{{ formatDate(article.created_at) }}</span>\n              <span class=\"result-views\">{{ article.views_count || 0 }} 阅读</span>\n            </div>\n            \n            <!-- 匹配的标签 -->\n            <div v-if=\"article.tags?.length\" class=\"result-tags\">\n              <el-tag\n                v-for=\"tag in article.tags\"\n                :key=\"tag\"\n                size=\"small\"\n                class=\"result-tag\"\n              >\n                {{ tag }}\n              </el-tag>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 空搜索结果 -->\n      <div v-else class=\"empty-results\">\n        <el-empty\n          description=\"没有找到相关文章\"\n          :image-size=\"150\"\n        >\n          <template #description>\n            <p>没有找到与 \"<strong>{{ searchQuery }}</strong>\" 相关的文章</p>\n            <p>建议：</p>\n            <ul>\n              <li>检查关键词拼写是否正确</li>\n              <li>尝试使用更通用的关键词</li>\n              <li>使用空格分隔多个关键词</li>\n            </ul>\n          </template>\n          <el-button type=\"primary\" @click=\"clearSearch\">\n            重新搜索\n          </el-button>\n        </el-empty>\n      </div>\n\n      <!-- 搜索分页 -->\n      <div v-if=\"searchResults.total > 0\" class=\"search-pagination\">\n        <el-pagination\n          v-model:current-page=\"pagination.page\"\n          v-model:page-size=\"pagination.size\"\n          :page-sizes=\"[10, 20, 50]\"\n          :total=\"searchResults.total\"\n          layout=\"total, sizes, prev, pager, next\"\n          @current-change=\"handlePageChange\"\n          @size-change=\"handleSizeChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ElMessage } from 'element-plus'\nimport {\n  Search,\n  Setting,\n  Delete\n} from '@element-plus/icons-vue'\nimport { articleAPI, categoryAPI } from '@/api/blog'\n\nexport default {\n  name: 'SearchPage',\n  components: {\n    Search,\n    Setting,\n    Delete\n  },\n  \n  data() {\n    return {\n      searchQuery: '',\n      searching: false,\n      hasSearched: false,\n      searchTime: 0,\n      showAdvanced: false,\n      \n      // 搜索筛选条件\n      filters: {\n        category_id: null,\n        author: '',\n        dateRange: null,\n        sort: 'relevance'\n      },\n      \n      // 搜索结果\n      searchResults: {\n        items: [],\n        total: 0\n      },\n      \n      // 分页\n      pagination: {\n        page: 1,\n        size: 10\n      },\n      \n      // 分类列表\n      categories: [],\n      \n      // 搜索历史（本地存储）\n      searchHistory: [],\n      \n      // 热门搜索词\n      popularSearches: [\n        'Vue.js',\n        'JavaScript',\n        'Python',\n        '前端开发',\n        '后端开发',\n        '数据库',\n        '算法',\n        '机器学习'\n      ]\n    }\n  },\n  \n  computed: {\n    safeCategories() {\n      return (this.categories || []).filter(c => c != null)\n    }\n  },\n  \n  async created() {\n    await this.loadCategories()\n    this.loadSearchHistory()\n    \n    // 从URL恢复搜索查询\n    const query = this.$route.query.q\n    if (query) {\n      this.searchQuery = query\n      await this.performSearch(false)\n    }\n  },\n  \n  methods: {\n    // 加载分类列表\n    async loadCategories() {\n      try {\n        const response = await categoryAPI.getCategories()\n        // 处理Django REST Framework的分页响应格式\n        this.categories = Array.isArray(response) ? response : (response.results || [])\n      } catch (error) {\n        console.error('加载分类失败:', error)\n        this.categories = []\n      }\n    },\n    \n    // 执行搜索\n    async performSearch(addToHistory = true) {\n      if (!this.searchQuery.trim()) {\n        ElMessage.warning('请输入搜索关键词')\n        return\n      }\n      \n      try {\n        this.searching = true\n        const startTime = Date.now()\n        \n        const params = {\n          q: this.searchQuery.trim(),\n          page: this.pagination.page,\n          size: this.pagination.size,\n          sort: this.filters.sort\n        }\n        \n        // 添加筛选条件\n        if (this.filters.category_id) {\n          params.category_id = this.filters.category_id\n        }\n        if (this.filters.author) {\n          params.author = this.filters.author\n        }\n        if (this.filters.dateRange?.length === 2) {\n          params.start_date = this.filters.dateRange[0].toISOString().split('T')[0]\n          params.end_date = this.filters.dateRange[1].toISOString().split('T')[0]\n        }\n        \n        const response = await articleAPI.searchArticles(params)\n        \n        this.searchResults = {\n          items: response.items || [],\n          total: response.total || 0\n        }\n        \n        this.searchTime = Date.now() - startTime\n        this.hasSearched = true\n        \n        // 添加到搜索历史\n        if (addToHistory) {\n          this.addToHistory(this.searchQuery)\n        }\n        \n        // 更新URL\n        this.updateURL()\n        \n      } catch (error) {\n        console.error('搜索失败:', error)\n        ElMessage.error('搜索失败，请稍后重试')\n        \n        // 显示示例搜索结果\n        this.searchResults = {\n          items: [\n            {\n              id: 1,\n              title: '包含搜索关键词的示例文章',\n              summary: `这是一个包含\"${this.searchQuery}\"关键词的示例文章摘要...`,\n              content: '文章内容',\n              author: { username: 'admin' },\n              created_at: new Date().toISOString(),\n              views_count: 100,\n              category: { name: '示例分类' },\n              tags: ['示例', '搜索']\n            }\n          ],\n          total: 1\n        }\n        this.searchTime = 50\n        this.hasSearched = true\n        \n      } finally {\n        this.searching = false\n      }\n    },\n    \n    // 清除搜索\n    clearSearch() {\n      this.searchQuery = ''\n      this.hasSearched = false\n      this.searchResults = { items: [], total: 0 }\n      this.pagination.page = 1\n      this.resetFilters()\n      \n      // 清除URL参数\n      this.$router.replace({ query: {} })\n    },\n    \n    // 重置筛选条件\n    resetFilters() {\n      this.filters = {\n        category_id: null,\n        author: '',\n        dateRange: null,\n        sort: 'relevance'\n      }\n    },\n    \n    // 页码变化\n    async handlePageChange(page) {\n      this.pagination.page = page\n      await this.performSearch(false)\n      \n      // 滚动到搜索结果顶部\n      const resultsEl = this.$el.querySelector('.search-results')\n      if (resultsEl) {\n        resultsEl.scrollIntoView({ behavior: 'smooth' })\n      }\n    },\n    \n    // 页面大小变化\n    async handleSizeChange(size) {\n      this.pagination.size = size\n      this.pagination.page = 1\n      await this.performSearch(false)\n    },\n    \n    // 跳转到文章\n    goToArticle(id) {\n      this.$router.push(`/articles/${id}`)\n    },\n    \n    // 高亮关键词\n    highlightKeywords(text) {\n      if (!text || !this.searchQuery) return text\n      \n      const keywords = this.searchQuery.split(/\\s+/).filter(k => k)\n      let highlightedText = text\n      \n      keywords.forEach(keyword => {\n        const regex = new RegExp(`(${keyword})`, 'gi')\n        highlightedText = highlightedText.replace(regex, '<mark>$1</mark>')\n      })\n      \n      return highlightedText\n    },\n    \n    // 搜索历史管理\n    loadSearchHistory() {\n      try {\n        const history = localStorage.getItem('search_history')\n        this.searchHistory = history ? JSON.parse(history) : []\n      } catch (error) {\n        this.searchHistory = []\n      }\n    },\n    \n    addToHistory(query) {\n      const trimmedQuery = query.trim()\n      if (!trimmedQuery) return\n      \n      // 移除重复项并添加到开头\n      this.searchHistory = [\n        trimmedQuery,\n        ...this.searchHistory.filter(item => item !== trimmedQuery)\n      ].slice(0, 10) // 最多保存10条历史\n      \n      // 保存到本地存储\n      try {\n        localStorage.setItem('search_history', JSON.stringify(this.searchHistory))\n      } catch (error) {\n        console.error('保存搜索历史失败:', error)\n      }\n    },\n    \n    removeHistoryItem(index) {\n      this.searchHistory.splice(index, 1)\n      try {\n        localStorage.setItem('search_history', JSON.stringify(this.searchHistory))\n      } catch (error) {\n        console.error('更新搜索历史失败:', error)\n      }\n    },\n    \n    clearHistory() {\n      this.searchHistory = []\n      try {\n        localStorage.removeItem('search_history')\n      } catch (error) {\n        console.error('清除搜索历史失败:', error)\n      }\n      ElMessage.success('搜索历史已清空')\n    },\n    \n    // 使用历史搜索\n    async useHistorySearch(query) {\n      this.searchQuery = query\n      await this.performSearch()\n    },\n    \n    // 使用热门搜索\n    async usePopularSearch(tag) {\n      this.searchQuery = tag\n      await this.performSearch()\n    },\n    \n    // 格式化日期\n    formatDate(date) {\n      if (!date) return ''\n      return new Date(date).toLocaleDateString('zh-CN')\n    },\n    \n    // 更新URL\n    updateURL() {\n      const query = {}\n      if (this.searchQuery) query.q = this.searchQuery\n      if (this.pagination.page > 1) query.page = this.pagination.page\n      \n      this.$router.replace({ query })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.search-page {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.search-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.search-header h1 {\n  margin: 0 0 12px 0;\n  color: #2c3e50;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n}\n\n.search-subtitle {\n  color: #718096;\n  margin: 0;\n}\n\n.search-container {\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  margin-bottom: 30px;\n}\n\n.search-box {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.search-input {\n  flex: 1;\n}\n\n.search-button {\n  min-width: 100px;\n}\n\n.advanced-search {\n  border-top: 1px solid #f0f0f0;\n  padding-top: 20px;\n  margin-top: 20px;\n}\n\n.search-filters :deep(.el-form-item) {\n  margin-bottom: 16px;\n}\n\n.search-toggle {\n  text-align: center;\n}\n\n.search-history,\n.popular-searches {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n  margin-bottom: 24px;\n}\n\n.history-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.history-header h3,\n.popular-searches h3 {\n  margin: 0 0 16px 0;\n  color: #516172;\n}\n\n.history-tags,\n.popular-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n}\n\n.history-tag,\n.popular-tag {\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.history-tag:hover,\n.popular-tag:hover {\n  background: #87CEEB;\n  color: white;\n}\n\n.search-results {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n}\n\n.results-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.results-header h3 {\n  margin: 0;\n  color: #2c3e50;\n}\n\n.result-count {\n  color: #718096;\n  font-weight: normal;\n  font-size: 14px;\n}\n\n.search-time {\n  color: #adb5bd;\n  font-size: 12px;\n}\n\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.results-list {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.result-item {\n  border: 1px solid #f0f0f0;\n  border-radius: 8px;\n  padding: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.result-item:hover {\n  border-color: #87CEEB;\n  box-shadow: 0 2px 8px rgba(135, 206, 235, 0.2);\n}\n\n.result-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #2c3e50;\n  margin: 0 0 12px 0;\n  line-height: 1.4;\n}\n\n.result-title :deep(mark) {\n  background: #87CEEB;\n  color: white;\n  padding: 2px 4px;\n  border-radius: 3px;\n}\n\n.result-summary {\n  color: #718096;\n  line-height: 1.6;\n  margin: 0 0 16px 0;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.result-summary :deep(mark) {\n  background: #fff3cd;\n  color: #856404;\n  padding: 1px 3px;\n  border-radius: 2px;\n}\n\n.result-meta {\n  display: flex;\n  gap: 16px;\n  font-size: 14px;\n  color: #adb5bd;\n  margin-bottom: 12px;\n}\n\n.result-category {\n  background: #87CEEB;\n  color: white;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n}\n\n.result-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.result-tag {\n  background: #f8f9fa;\n  color: #6c757d;\n  border-color: #e9ecef;\n}\n\n.empty-results {\n  text-align: center;\n  padding: 40px 20px;\n}\n\n.empty-results ul {\n  text-align: left;\n  display: inline-block;\n  color: #718096;\n  font-size: 14px;\n}\n\n.search-pagination {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  padding: 30px 20px;\n  background: linear-gradient(145deg, #4a5568 0%, #2d3748 100%);\n  border-radius: 16px;\n  box-shadow: \n    0 4px 16px rgba(0, 0, 0, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n/* 搜索页分页组件深色主题样式 */\n.search-pagination :deep(.el-pagination) {\n  --el-pagination-font-size: 14px;\n  --el-pagination-bg-color: #2d3748;\n  --el-pagination-text-color: #ffffff;\n  --el-pagination-border-radius: 8px;\n  --el-pagination-button-color: rgba(255, 255, 255, 0.8);\n  --el-pagination-button-bg-color: linear-gradient(145deg, #4a5568 0%, #2d3748 100%);\n  --el-pagination-button-disabled-color: rgba(255, 255, 255, 0.3);\n  --el-pagination-button-disabled-bg-color: rgba(45, 55, 72, 0.5);\n  --el-pagination-hover-color: #B0E0E6;\n  background: transparent;\n}\n\n.search-pagination :deep(.el-pagination .el-pager li) {\n  background: linear-gradient(145deg, #4a5568 0%, #2d3748 100%);\n  color: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(176, 224, 230, 0.3);\n  border-radius: 8px;\n  margin: 0 4px;\n  font-weight: 500;\n  box-shadow: \n    0 2px 8px rgba(0, 0, 0, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  transition: all 0.3s ease;\n}\n\n.search-pagination :deep(.el-pagination .el-pager li:hover) {\n  background: linear-gradient(145deg, #B0E0E6 0%, #87CEEB 100%);\n  color: #2d3748;\n  border-color: #B0E0E6;\n  box-shadow: \n    0 4px 12px rgba(176, 224, 230, 0.3),\n    0 0 0 2px rgba(176, 224, 230, 0.1);\n  transform: translateY(-1px);\n}\n\n.search-pagination :deep(.el-pagination .el-pager li.is-active) {\n  background: linear-gradient(145deg, #B0E0E6 0%, #87CEEB 100%);\n  color: #2d3748;\n  border-color: #B0E0E6;\n  font-weight: 600;\n  box-shadow: \n    0 4px 12px rgba(176, 224, 230, 0.4),\n    0 0 0 2px rgba(176, 224, 230, 0.2);\n}\n\n.search-pagination :deep(.el-pagination .btn-prev),\n.search-pagination :deep(.el-pagination .btn-next) {\n  background: linear-gradient(145deg, #4a5568 0%, #2d3748 100%);\n  color: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(176, 224, 230, 0.3);\n  border-radius: 8px;\n  font-weight: 500;\n  box-shadow: \n    0 2px 8px rgba(0, 0, 0, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  transition: all 0.3s ease;\n}\n\n.search-pagination :deep(.el-pagination .btn-prev:hover),\n.search-pagination :deep(.el-pagination .btn-next:hover) {\n  background: linear-gradient(145deg, #B0E0E6 0%, #87CEEB 100%);\n  color: #2d3748;\n  border-color: #B0E0E6;\n  box-shadow: \n    0 4px 12px rgba(176, 224, 230, 0.3),\n    0 0 0 2px rgba(176, 224, 230, 0.1);\n  transform: translateY(-1px);\n}\n\n.search-pagination :deep(.el-pagination .el-pagination__total),\n.search-pagination :deep(.el-pagination .el-pagination__sizes) {\n  color: rgba(255, 255, 255, 0.8);\n  font-weight: 500;\n}\n\n@media (max-width: 768px) {\n  .search-page {\n    padding: 12px;\n  }\n  \n  .search-container {\n    padding: 20px;\n  }\n  \n  .search-box {\n    flex-direction: column;\n  }\n  \n  .results-header {\n    flex-direction: column;\n    gap: 12px;\n    align-items: flex-start;\n  }\n  \n  .result-meta {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .history-tags,\n  .popular-tags {\n    gap: 8px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}